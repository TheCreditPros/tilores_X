{
  "metadata": {
    "generated_at": "2025-09-03T14:30:55.548465",
    "ground_truth_source": "MASTER_COMPLETE_DATA_WITH_FULL_PHONE_20250902_155645.json",
    "testing_config_source": "tests/agenta/agenta_testing_config.json",
    "agenta_environment": "production"
  },
  "agenta_settings": {
    "api_key": "NF5cGzQx.7325e5e4abd347302148eadc966f4e4991be7aad9f80636159368206f251afa2",
    "host": "https://cloud.agenta.ai",
    "app_slug": "tilores-x",
    "environment": "production"
  },
  "variants": {
    "credit-analysis-comprehensive-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are a Credit Pros advisor with access to comprehensive credit data.\nAnalyze the provided temporal credit data to answer the user's question accurately and professionally.\n\nAvailable data includes:\n- Credit scores across multiple bureaus (Equifax, Experian, TransUnion) over time\n- Summary parameters including utilization rates, inquiry counts, account counts, payment amounts, and delinquencies\n- Historical credit report data with temporal analysis capabilities\n\nProvide detailed insights that help customers understand their credit profile and improvement opportunities.",
      "description": "Current production prompt for comprehensive credit analysis",
      "use_case": "Comprehensive credit report analysis",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    },
    "multi-data-analysis-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are a Credit Pros advisor with access to comprehensive customer data across multiple sources.\nAnalyze the provided data to answer the user's question accurately and professionally.\n\nAvailable data sources:\n- Temporal credit data with scores, utilization, and bureau information\n- Phone call history with agent interactions, call duration, and campaign data\n- Transaction records with amounts, payment methods, and billing information\n- Credit card data with BINs, expiration dates, and status information\n- Support ticket data with categories, statuses, and resolution patterns\n\nProvide insights that combine multiple data sources when relevant and focus on the specific question asked.",
      "description": "Current production prompt for multi-source data analysis",
      "use_case": "Multi-source customer intelligence",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    },
    "account-status-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are a customer service AI assistant specializing in account status queries.\n\n**PRIMARY FOCUS**: Provide concise, accurate Salesforce account status information.\n\n**RESPONSE FORMAT**:\n\u2022 **Status**: [Active/Past Due/Canceled]\n\u2022 **Customer**: [Customer Name]\n\u2022 **Product**: [Current Product]\n\u2022 **Enrolled**: [Enrollment Date]\n\n**GUIDELINES**:\n- Be direct and factual\n- Use bullet points for clarity\n- Focus on current account status only\n- Avoid lengthy explanations unless requested",
      "description": "Optimized prompt for Salesforce account status queries",
      "use_case": "Quick account status lookups",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    },
    "transaction-analysis-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are a Credit Pros advisor with access to transaction history data.\nAnalyze the provided transaction data to answer the user's question accurately and professionally.\n\nAvailable data:\n- Transaction records with amounts, payment methods, and billing information\n- Transaction aggregation data with totals, averages, and timelines\n- Payment patterns and financial behavior insights\n\nFocus on payment patterns, transaction trends, and financial behavior insights.",
      "description": "Current production prompt for transaction analysis",
      "use_case": "Payment and transaction pattern analysis",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    },
    "phone-call-analysis-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are a Credit Pros advisor with access to phone call history data.\nAnalyze the provided call data to answer the user's question accurately and professionally.\n\nAvailable data:\n- Phone call records with agents, duration, types, and campaigns\n- Call aggregation data with totals, averages, and timelines\n- Agent performance metrics and customer interaction patterns\n\nFocus on call patterns, agent performance, and customer interaction insights.",
      "description": "Current production prompt for call history analysis",
      "use_case": "Call history and agent performance analysis",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    },
    "fallback-default-v1": {
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "max_tokens": 2000,
      "top_p": 1.0,
      "frequency_penalty": 0.0,
      "presence_penalty": 0.0,
      "system_prompt": "You are an advanced AI assistant with access to comprehensive Tilores customer data and credit analysis capabilities.\n\nAvailable Tools:\n- get_customer_credit_report(client_identifier): Get detailed credit reports\n- compare_customer_credit_profiles(client_identifiers): Compare multiple credit profiles\n- discover_tilores_fields(category): Discover available data fields\n- get_field_discovery_stats(): Get field discovery statistics\n\nYou have access to 310+ customer data fields including:\n- Customer Information: Names, emails, phones, addresses\n- Credit Data: Scores, reports, utilization, payment history\n- Transaction Data: Payments, billing, product information\n- Interaction Data: Call history, support tickets, communications\n\nWhen users ask about customers, credit reports, or data analysis, use the appropriate tools to provide comprehensive, professional responses.",
      "description": "Robust fallback prompt when Agenta.ai is unavailable",
      "use_case": "General customer data analysis when specific prompts unavailable",
      "routing_keywords": [],
      "expected_data_types": [],
      "performance_target": {
        "response_time_ms": 5000,
        "accuracy_threshold": 0.85,
        "success_rate_threshold": 0.9
      }
    }
  },
  "test_cases": [
    {
      "name": "credit_score_query",
      "input": "What is the credit score for e.j.price1986@gmail.com?",
      "expected_variant": "credit-analysis-comprehensive-v1",
      "expected_fields": [
        "customer_name",
        "latest_credit_score",
        "credit_bureau"
      ],
      "ground_truth": {
        "customer_name": "Esteban Price",
        "customer_email": "e.j.price1986@gmail.com",
        "latest_credit_score": null,
        "has_credit_data": true
      }
    },
    {
      "name": "credit_improvement_query",
      "input": "How can e.j.price1986@gmail.com improve their credit score?",
      "expected_variant": "credit-analysis-comprehensive-v1",
      "expected_fields": [
        "explanation",
        "risk_assessment"
      ],
      "ground_truth": {
        "customer_name": "Esteban Price",
        "has_credit_data": true
      }
    },
    {
      "name": "account_status_query",
      "input": "What is the account status for e.j.price1986@gmail.com?",
      "expected_variant": "account-status-v1",
      "expected_fields": [
        "account_status",
        "customer_name"
      ],
      "ground_truth": {
        "customer_name": "Esteban Price",
        "account_status": "Active"
      }
    },
    {
      "name": "comprehensive_analysis",
      "input": "Give me comprehensive analysis for e.j.price1986@gmail.com",
      "expected_variant": "multi-data-analysis-v1",
      "expected_fields": [
        "customer_name",
        "analysis_summary",
        "has_credit_data",
        "has_transaction_data"
      ],
      "ground_truth": {
        "customer_name": "Esteban Price",
        "has_credit_data": true,
        "has_transaction_data": true,
        "total_credit_reports": null,
        "total_transactions": null
      }
    },
    {
      "name": "payment_history_query",
      "input": "Show me payment history for e.j.price1986@gmail.com",
      "expected_variant": "transaction-analysis-v1",
      "expected_fields": [
        "customer_name",
        "total_transactions",
        "total_transaction_amount"
      ],
      "ground_truth": {
        "customer_name": "Esteban Price",
        "has_transaction_data": true,
        "total_transactions": null,
        "total_transaction_amount": null
      }
    },
    {
      "name": "invalid_customer",
      "input": "Show data for invalid@nonexistent.com",
      "expected_variant": "multi-data-analysis-v1",
      "expected_fields": [
        "customer_found"
      ],
      "ground_truth": {
        "customer_found": false
      }
    },
    {
      "name": "empty_query",
      "input": "",
      "expected_variant": "fallback-default-v1",
      "expected_fields": [
        "explanation"
      ],
      "ground_truth": {
        "explanation": "customer information required"
      }
    }
  ],
  "evaluation_config": {
    "evaluators": [
      {
        "name": "field_accuracy_evaluator",
        "type": "custom",
        "settings": {
          "field_weights": {
            "customer_name": 3.0,
            "customer_email": 3.0,
            "client_id": 3.0,
            "entity_id": 3.0,
            "total_credit_reports": 3.0,
            "total_transactions": 3.0,
            "latest_credit_score": 2.0,
            "total_transaction_amount": 2.0,
            "average_transaction_amount": 2.0,
            "contact_records_count": 2.0,
            "total_cards": 2.0,
            "has_credit_data": 2.0,
            "has_transaction_data": 2.0,
            "has_phone_data": 2.0,
            "has_card_data": 2.0,
            "customer_found": 2.0,
            "data_available": 2.0,
            "risk_level": 2.0,
            "credit_bureau": 2.0,
            "account_status": 2.0,
            "explanation": 1.0,
            "risk_assessment": 1.0,
            "analysis_summary": 1.0
          },
          "tolerance_settings": {
            "numeric_percent": 0.02,
            "numeric_absolute": 5.0,
            "similarity_threshold": 0.85
          },
          "judge_model": "gpt-4o-mini"
        }
      },
      {
        "name": "response_quality_evaluator",
        "type": "llm_judge",
        "settings": {
          "model": "gpt-4o-mini",
          "temperature": 0.0,
          "criteria": [
            "accuracy",
            "completeness",
            "relevance",
            "clarity"
          ]
        }
      },
      {
        "name": "performance_evaluator",
        "type": "performance",
        "settings": {
          "max_response_time": 30000,
          "min_success_rate": 0.9
        }
      }
    ],
    "promotion_rules": {
      "min_score_improvement": 0.03,
      "max_latency_increase": 0.1,
      "min_test_cases": 5,
      "min_success_rate": 0.9
    },
    "reporting": {
      "generate_markdown": true,
      "include_detailed_breakdown": true,
      "include_field_analysis": true,
      "include_category_analysis": true
    }
  }
}